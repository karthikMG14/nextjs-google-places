{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _extraReducers;\n\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport var getMapLocation = createAsyncThunk('map/getMapLocation', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload, _ref) {\n    var getState;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            getState = _ref.getState;\n            return _context.abrupt(\"return\", axios.get(\"http://localhost:3000/api/mapdata?placeId=\".concat(payload.place.place_id)).then(function (res) {\n              try {\n                return {\n                  data: res.data.result.result.geometry.location\n                };\n              } catch (e) {\n                return {\n                  data: {}\n                };\n              }\n            })[\"catch\"](function (err) {\n              return alert(\"Something went wrong try again later\");\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var mapsSlice = createSlice({\n  name: 'maps',\n  initialState: {\n    loading: true,\n    error: false,\n    data: {\n      lat: 17.4770936,\n      lng: 78.3920437\n    }\n  },\n  extraReducers: (_extraReducers = {}, _defineProperty(_extraReducers, getMapLocation.pending, function (state) {\n    state.loading = true;\n    state.error = false;\n  }), _defineProperty(_extraReducers, getMapLocation.fulfilled, function (state, action) {\n    state.loading = false;\n    state.error = false;\n    state.data = action.payload.data;\n  }), _defineProperty(_extraReducers, getMapLocation.rejected, function (state) {\n    state.loading = false;\n    state.error = true;\n  }), _extraReducers)\n});\nexport default mapsSlice.reducer;","map":{"version":3,"sources":["/Users/user/Documents/Accenture/next-js-places-map/redux/maps/mapSlice.js"],"names":["createAsyncThunk","createSlice","axios","getMapLocation","payload","getState","get","place","place_id","then","res","data","result","geometry","location","e","err","alert","mapsSlice","name","initialState","loading","error","lat","lng","extraReducers","pending","state","fulfilled","action","rejected","reducer"],"mappings":";;;;;;AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,IAAMC,cAAc,GAAGH,gBAAgB,CAAC,oBAAD;AAAA,uEAC7C,iBAAOI,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiBC,YAAAA,QAAjB,QAAiBA,QAAjB;AAAA,6CACcH,KAAK,CAACI,GAAN,qDAAuDF,OAAO,CAACG,KAAR,CAAcC,QAArE,GACNC,IADM,CACD,UAAAC,GAAG,EAAI;AACT,kBAAG;AACC,uBAAO;AAACC,kBAAAA,IAAI,EAACD,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgBA,MAAhB,CAAuBC,QAAvB,CAAgCC;AAAtC,iBAAP;AACH,eAFD,CAEC,OAAMC,CAAN,EAAQ;AACL,uBAAO;AAACJ,kBAAAA,IAAI,EAAC;AAAN,iBAAP;AACH;AACJ,aAPM,WAQA,UAAAK,GAAG;AAAA,qBAAIC,KAAK,CAAC,sCAAD,CAAT;AAAA,aARH,CADd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAD6C;;AAAA;AAAA;AAAA;AAAA,IAAvC;AAcP,OAAO,IAAMC,SAAS,GAAGjB,WAAW,CAAC;AACpCkB,EAAAA,IAAI,EAAE,MAD8B;AAEpCC,EAAAA,YAAY,EAAE;AACPC,IAAAA,OAAO,EAAE,IADF;AAEPC,IAAAA,KAAK,EAAE,KAFA;AAGPX,IAAAA,IAAI,EAAE;AAACY,MAAAA,GAAG,EAAC,UAAL;AAAgBC,MAAAA,GAAG,EAAC;AAApB;AAHC,GAFsB;AAOpCC,EAAAA,aAAa,wDACXtB,cAAc,CAACuB,OADJ,EACc,UAACC,KAAD,EAAW;AAC3BA,IAAAA,KAAK,CAACN,OAAN,GAAgB,IAAhB;AACAM,IAAAA,KAAK,CAACL,KAAN,GAAc,KAAd;AACT,GAJW,mCAKXnB,cAAc,CAACyB,SALJ,EAKgB,UAACD,KAAD,EAAQE,MAAR,EAAmB;AACrCF,IAAAA,KAAK,CAACN,OAAN,GAAgB,KAAhB;AACAM,IAAAA,KAAK,CAACL,KAAN,GAAc,KAAd;AACAK,IAAAA,KAAK,CAAChB,IAAN,GAAakB,MAAM,CAACzB,OAAP,CAAeO,IAA5B;AACT,GATW,mCAUXR,cAAc,CAAC2B,QAVJ,EAUe,UAACH,KAAD,EAAW;AACrCA,IAAAA,KAAK,CAACN,OAAN,GAAgB,KAAhB;AACSM,IAAAA,KAAK,CAACL,KAAN,GAAc,IAAd;AACT,GAbW;AAPuB,CAAD,CAA7B;AAyBP,eAAeJ,SAAS,CAACa,OAAzB","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const getMapLocation = createAsyncThunk('map/getMapLocation', \r\n\tasync (payload, {getState}) => {\r\n        return axios.get(`http://localhost:3000/api/mapdata?placeId=${payload.place.place_id}`)\r\n        .then(res => {\r\n            try{\r\n                return {data:res.data.result.result.geometry.location}\r\n            }catch(e){ \r\n                return {data:{}}\r\n            }\r\n        })\r\n        .catch(err => alert(\"Something went wrong try again later\"))\r\n\t}\r\n)\r\n\r\nexport const mapsSlice = createSlice({\r\n\tname: 'maps',\r\n\tinitialState: {\r\n        loading: true,\r\n        error: false,\r\n        data: {lat:17.4770936,lng:78.3920437},\r\n    },\r\n\textraReducers: {\r\n\t\t[getMapLocation.pending]: (state) => {\r\n            state.loading = true\r\n            state.error = false\r\n\t\t},\r\n\t\t[getMapLocation.fulfilled]: (state, action) => {\r\n            state.loading = false\r\n            state.error = false\r\n            state.data = action.payload.data\r\n\t\t},\r\n\t\t[getMapLocation.rejected]: (state) => {\r\n\t\t\tstate.loading = false\r\n            state.error = true\r\n\t\t},\r\n\t}\r\n\t\r\n});\r\n\r\nexport default mapsSlice.reducer;"]},"metadata":{},"sourceType":"module"}